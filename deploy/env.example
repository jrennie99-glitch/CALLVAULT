# Call Vault Environment Variables
# Copy this file to .env and fill in your values

# ============================================
# REQUIRED
# ============================================

# Server port (default: 5000)
PORT=5000

# PostgreSQL database connection string
DATABASE_URL=postgresql://username:password@localhost:5432/callvault

# Node environment: development or production
NODE_ENV=production

# ============================================
# CORS & PROXY (for reverse proxy setups)
# ============================================

# Comma-separated list of allowed origins for CORS
# Leave empty for same-origin only
# Example: https://callvault.com,https://app.callvault.com
ALLOWED_ORIGINS=

# Set to "true" if running behind nginx/load balancer
# This tells Express to trust X-Forwarded-* headers
TRUST_PROXY=true

# ============================================
# TURN/STUN SERVER CONFIGURATION
# ============================================

# TURN_MODE controls TURN server availability:
#   "public"  - Free OpenRelay TURN (TESTING ONLY, not for production)
#   "custom"  - Use your own TURN server (coturn) with credentials below
#   "off"     - STUN only, no TURN (may fail behind strict NAT)
TURN_MODE=custom

# Custom TURN server URLs (comma-separated)
# Required when TURN_MODE=custom
# Example: turn:your-server.com:3478,turns:your-server.com:5349
TURN_URLS=turn:your-server.com:3478

# TURN server credentials (required when TURN_MODE=custom)
TURN_USERNAME=callvault
TURN_CREDENTIAL=your-turn-secret-here

# Custom STUN server URLs (comma-separated, optional)
# Default: Google STUN servers
STUN_URLS=stun:stun.l.google.com:19302,stun:stun1.l.google.com:19302

# ============================================
# METERED.CA TURN (alternative to custom)
# ============================================

# If set, these take priority over custom TURN config
# Get credentials from https://metered.ca
METERED_APP_NAME=
METERED_SECRET_KEY=

# ============================================
# PUSH NOTIFICATIONS (optional)
# ============================================

# VAPID keys for Web Push notifications
# Generate with: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=

# ============================================
# STRIPE PAYMENTS (optional)
# ============================================

# Stripe API keys for subscription billing
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# ============================================
# ADMIN BOOTSTRAP (optional)
# ============================================

# Initial admin credentials (only used on first run)
ADMIN_USERNAME=
ADMIN_PASSWORD=
